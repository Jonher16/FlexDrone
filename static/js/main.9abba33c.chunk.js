(this.webpackJsonpflexdrone=this.webpackJsonpflexdrone||[]).push([[0],{121:function(e,t,c){},137:function(e,t,c){},149:function(e,t,c){"use strict";c.r(t);var n=c(0),a=c.n(n),s=c(46),l=c.n(s),o=(c(137),c(14)),i=c(5),r=(c(121),c(22)),d=c(130),j=c(120),x=c(1),h=function(){return Object(x.jsx)("div",{children:Object(x.jsx)(j.a,{bg:"mediumgray",width:"100%",variant:"dark",children:Object(x.jsx)(j.a.Brand,{children:Object(x.jsx)("h1",{children:"FlexDrone"})})})})},m=c(90),b=c(125),u=c.n(b),f=c(131),O=c(117),y=c(60),p=c(28),g=c(126),v=c(128),w=c(116),N=Object(d.a)("http://127.0.0.1:4001");var k=function(){var e=function(e,t){e.preventDefault(),N.emit("comando",t),console.log("Comando ".concat(t," emitido"))};Object(n.useEffect)((function(){N.on("welcome",(function(e){return console.log(e)}))}),[]);var t=Object(n.useState)([]),c=Object(i.a)(t,2),a=c[0],s=c[1],l=Object(n.useState)({pitch:[],roll:[],yaw:[],agx:[],agy:[],agz:[],vgx:[],vgy:[],vgz:[],bat:[],baro:[],h:[],time:[],templ:[],temph:[]}),d=Object(i.a)(l,2),j=d[0],b=d[1],k=Object(n.useState)("pitch"),C=Object(i.a)(k,2),S=C[0],K=C[1],F=Object(n.useState)("control"),L=Object(i.a)(F,2),z=L[0],D=L[1],E=Object(n.useState)([]),A=Object(i.a)(E,2),B=A[0],R=A[1];Object(n.useEffect)((function(){N.on("telemetry",(function(e){s(Object.keys(e)),delete a.tof,b((function(t){return{pitch:[].concat(Object(o.a)(t.pitch),[e.pitch]),roll:[].concat(Object(o.a)(t.roll),[e.roll]),yaw:[].concat(Object(o.a)(t.yaw),[e.yaw]),agx:[].concat(Object(o.a)(t.agx),[e.agx]),agy:[].concat(Object(o.a)(t.agy),[e.agy]),agz:[].concat(Object(o.a)(t.agz),[e.agz]),vgx:[].concat(Object(o.a)(t.vgx),[e.vgx]),vgy:[].concat(Object(o.a)(t.vgy),[e.vgy]),vgz:[].concat(Object(o.a)(t.vgz),[e.vgz]),bat:[].concat(Object(o.a)(t.bat),[e.bat]),baro:[].concat(Object(o.a)(t.baro),[e.baro]),h:[].concat(Object(o.a)(t.h),[e.h]),templ:[].concat(Object(o.a)(t.templ),[5*(e.templ-32)/9]),temph:[].concat(Object(o.a)(t.temph),[5*(e.temph-32)/9])}}));var t=new Date;R((function(e){return[].concat(Object(o.a)(e),[t])}))}))}),[]);var T=80,_=!1,I=!1,Q=!1,V=!1,W=!1,P=!1,Y=!1,H=!1;return Object(n.useEffect)((function(){document.addEventListener("keydown",(function(e){"KeyW"===e.code&&!1===_?(console.log("W"),N.emit("comando","rc 0 ".concat(T," 0 0")),_=!0):"KeyS"===e.code&&!1===Q?(console.log("S"),N.emit("comando","rc 0 -".concat(T," 0 0")),Q=!0):"KeyA"===e.code&&!1===I?(console.log("A"),N.emit("comando","rc -".concat(T," 0 0 0")),I=!0):"KeyD"===e.code&&!1===V?(console.log("D"),V=!0,N.emit("comando","rc ".concat(T," 0 0 0"))):"KeyQ"===e.code&&!1===W?(console.log("Q"),W=!0,N.emit("comando","rc 0 0 0 -".concat(T," "))):"KeyE"===e.code&&!1===P?(console.log("E"),P=!0,N.emit("comando","rc 0 0 0 ".concat(T))):"Space"===e.code&&!1===H?(console.log("Space"),P=!0,N.emit("comando","rc 0 0 ".concat(T," 0"))):"ShiftLeft"===e.code&&!1===Y&&(console.log("ShiftLeft"),P=!0,N.emit("comando","rc 0 0 -".concat(T," 0")))})),document.addEventListener("keyup",(function(e){"KeyW"===e.code?(console.log("No W"),_=!1,N.emit("comando","rc 0 0 0 0")):"KeyS"===e.code?(console.log("No S"),Q=!1,N.emit("comando","rc 0 0 0 0")):"KeyA"===e.code?(console.log("No A"),I=!1,N.emit("comando","rc 0 0 0 0")):"KeyD"===e.code?(console.log("No D"),V=!1,N.emit("comando","rc 0 0 0 0")):"KeyQ"===e.code?(console.log("No Q"),W=!1,N.emit("comando","rc 0 0 0 0")):"KeyE"===e.code?(console.log("No E"),P=!1,N.emit("comando","rc 0 0 0 0")):"Space"===e.code?(console.log("No Space"),H=!1,N.emit("comando","rc 0 0 0 0")):"ShiftLeft"===e.code&&(console.log("No ShiftLeft"),Y=!1,N.emit("comando","rc 0 0 0 0"))}))}),[]),Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)("div",{className:"App",children:[Object(x.jsx)("script",{type:"text/javascript",src:"jsmpeg.min.js"}),Object(x.jsx)(h,{}),Object(x.jsxs)(f.a,{id:"controlled-tab-example",activeKey:z,onSelect:function(e){return D(e)},children:[Object(x.jsx)(m.a,{eventKey:"control",title:"Control",children:Object(x.jsxs)(O.a,{className:" w-75 mt-5",fluid:!0,children:[Object(x.jsxs)(y.a,{className:"d-flex mt-3 justify-content-center w-3",xs:"12",lg:"6",md:"6",children:[Object(x.jsx)(p.a,{className:"w-50 d-flex justify-content-center",children:Object(x.jsx)(r.a,{variant:"primary",style:{width:"90px"},onClick:function(t){return e(t,"up 20")},children:"Up"})}),Object(x.jsx)(p.a,{className:"w-50 d-flex justify-content-center",children:Object(x.jsx)(r.a,{style:{width:"90px"},onClick:function(t){return e(t,"down 20")},children:"Down"})})]}),Object(x.jsxs)(y.a,{className:"d-flex mt-3 justify-content-center w-3",xs:"12",lg:"6",md:"6",children:[Object(x.jsx)(p.a,{className:"w-50 d-flex justify-content-center",children:Object(x.jsx)(r.a,{variant:"primary",style:{width:"90px"},onClick:function(t){return e(t,"ccw 20")},children:"Rotate L"})}),Object(x.jsx)(p.a,{className:"w-50 d-flex justify-content-center",children:Object(x.jsx)(r.a,{style:{width:"90px"},onClick:function(t){return e(t,"cw 20")},children:"Rotate R"})})]}),Object(x.jsxs)(y.a,{className:"d-flex mt-3 justify-content-center w-3",xs:"12",lg:"6",md:"6",children:[Object(x.jsxs)(p.a,{className:" w-50",children:[Object(x.jsx)("div",{className:"d-flex justify-content-around",children:Object(x.jsx)(r.a,{style:{width:"90px"},onClick:function(t){return e(t,"forward 20")},children:"Forward"})}),Object(x.jsx)(O.a,{className:"",children:Object(x.jsxs)(y.a,{xs:"12",lg:"6",md:"6",className:"d-flex mt-2 justify-content-center",children:[Object(x.jsx)(p.a,{className:"d-flex justify-content-center",style:{width:"100px"},children:Object(x.jsx)(r.a,{style:{width:"100px"},onClick:function(t){return e(t,"left 20")},children:"Left"})}),Object(x.jsx)(p.a,{className:"d-flex justify-content-center",style:{width:"100px"},children:Object(x.jsx)(r.a,{style:{width:"100px"},onClick:function(t){return e(t,"right 20")},children:"Right"})})]})}),Object(x.jsx)("div",{className:"d-flex justify-content-around mt-2",children:Object(x.jsx)(r.a,{style:{width:"90px"},onClick:function(t){return e(t,"back 20")},children:"Back"})})]}),Object(x.jsxs)(p.a,{className:"w-50",children:[Object(x.jsx)("div",{className:"d-flex justify-content-around",children:Object(x.jsx)(r.a,{style:{width:"90px"},onClick:function(t){return e(t,"flip f")},children:"Flip F!"})}),Object(x.jsx)(O.a,{className:"",children:Object(x.jsxs)(y.a,{xs:"12",lg:"6",md:"6",className:"d-flex mt-2 justify-content-center",children:[Object(x.jsx)(p.a,{className:"d-flex justify-content-center",style:{width:"100px"},children:Object(x.jsx)(r.a,{style:{width:"90px"},onClick:function(t){return e(t,"flip l")},children:"Flip L!"})}),Object(x.jsx)(p.a,{className:"d-flex justify-content-center",style:{width:"100px"},children:Object(x.jsx)(r.a,{style:{width:"90px"},onClick:function(t){return e(t,"flip r")},children:"Flip R!"})})]})}),Object(x.jsx)("div",{className:"d-flex justify-content-around mt-2",children:Object(x.jsx)(r.a,{style:{width:"90px"},onClick:function(t){return e(t,"flip b")},children:"Flip B!"})})]})]}),Object(x.jsxs)(y.a,{className:"d-flex mt-3 justify-content-center w-3",xs:"12",lg:"6",md:"6",children:[Object(x.jsx)(p.a,{className:"w-50 d-flex justify-content-center",children:Object(x.jsx)(r.a,{style:{width:"90px"},onClick:function(t){return e(t,"stop")},children:"Stop"})}),Object(x.jsx)(p.a,{className:"w-50 d-flex justify-content-center",children:Object(x.jsx)(r.a,{style:{width:"100px"},onClick:function(t){return e(t,"emergency")},children:"Emergency"})})]}),Object(x.jsxs)(y.a,{className:"d-flex mt-3 justify-content-center w-3",xs:"12",lg:"6",md:"6",children:[Object(x.jsx)(p.a,{className:"w-50 d-flex justify-content-center",children:Object(x.jsx)(r.a,{style:{width:"90px"},onClick:function(t){return e(t,"takeoff")},children:"Takeoff"})}),Object(x.jsx)(p.a,{className:"w-50 d-flex justify-content-center",children:Object(x.jsx)(r.a,{style:{width:"90px"},onClick:function(t){return e(t,"land")},children:"Land"})})]})]})}),Object(x.jsx)(m.a,{eventKey:"data",title:"Data",children:Object(x.jsxs)("div",{className:"  d-inline-flex h-100 p-2 w-100 d-flex-row justify-content-center",children:[Object(x.jsxs)("div",{className:"  p-5 d-flex-column w-50 align-items-start justify-content-start",children:[Object(x.jsxs)("h3",{className:"text-start",children:["Pitch: ",null===j||void 0===j?void 0:j.pitch]}),Object(x.jsxs)("h3",{className:"text-start",children:["Roll: ",null===j||void 0===j?void 0:j.roll]}),Object(x.jsxs)("h3",{className:"text-start",children:["Yaw: ",null===j||void 0===j?void 0:j.yaw]}),Object(x.jsxs)("h3",{className:"text-start",children:["Velocity (X axis): ",null===j||void 0===j?void 0:j.vgx]}),Object(x.jsxs)("h3",{className:"text-start",children:["Velocity (Y axis): ",null===j||void 0===j?void 0:j.vgy]}),Object(x.jsxs)("h3",{className:"text-start",children:["Velocity (Z axis): ",null===j||void 0===j?void 0:j.vgz]}),Object(x.jsxs)("h3",{className:"text-start",children:["Acceleration (X axis): ",null===j||void 0===j?void 0:j.agx]}),Object(x.jsxs)("h3",{className:"text-start",children:["Acceleration (Y axis): ",null===j||void 0===j?void 0:j.agy]}),Object(x.jsxs)("h3",{className:"text-start",children:["Acceleration (Z axis): ",null===j||void 0===j?void 0:j.agz]})]}),Object(x.jsxs)("div",{className:" d-inline-flex-column p-5 w-50 align-items-start justify-content-start",children:[Object(x.jsxs)("h3",{className:"text-start",children:["Height: ",null===j||void 0===j?void 0:j.h]}),Object(x.jsxs)("h3",{className:"text-start",children:["Battery: ",null===j||void 0===j?void 0:j.bat]}),Object(x.jsxs)("h3",{className:"text-start",children:["Temp_Low: ",(5*((null===j||void 0===j?void 0:j.templ)-32)/9).toFixed(2)]}),Object(x.jsxs)("h3",{className:"text-start",children:["Temp_High: ",(5*((null===j||void 0===j?void 0:j.temph)-32)/9).toFixed(2)]}),Object(x.jsxs)("h3",{className:"text-start",children:["Barometer: ",null===j||void 0===j?void 0:j.baro]})]})]})}),Object(x.jsxs)(m.a,{eventKey:"charts",width:"100%",title:"Charts",children:[Object(x.jsx)(v.a,{id:"dropdown-basic-button",title:"Graph",children:a.map((function(e){return Object(x.jsx)(w.a.Item,{onClick:function(t){return function(e,t){e.preventDefault(),K(t)}(t,e)},children:e})}))}),Object(x.jsx)(u.a,{className:"plot",data:[{x:B,y:j[S],type:"scatter",mode:"lines+markers",marker:{color:"lightgray"}}],layout:{responsive:!0,autosize:!0,title:S,plot_bgcolor:"#2b2b2b",paper_bgcolor:"#2b2b2b",font:{color:"#afb1b3"},yaxis:{gridcolor:"#3c3f41"},xaxis:{gridcolor:"#3c3f41"}}})]}),Object(x.jsx)(m.a,{eventKey:"video",className:"tab_style",title:"Video",children:Object(x.jsx)(g.a,{className:"videoframe",url:"video.html",id:"myId",display:"initial",height:"900px",position:"relative"})})]})]})})},C=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,155)).then((function(t){var c=t.getCLS,n=t.getFID,a=t.getFCP,s=t.getLCP,l=t.getTTFB;c(e),n(e),a(e),s(e),l(e)}))};l.a.render(Object(x.jsx)(a.a.StrictMode,{children:Object(x.jsx)(k,{})}),document.getElementById("root")),C()}},[[149,1,2]]]);
//# sourceMappingURL=main.9abba33c.chunk.js.map