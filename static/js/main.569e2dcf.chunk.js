(this.webpackJsonpflexdrone=this.webpackJsonpflexdrone||[]).push([[0],{118:function(e,t,c){},132:function(e,t,c){},144:function(e,t,c){"use strict";c.r(t);var n=c(0),a=c.n(n),l=c(46),s=c.n(l),o=(c(132),c(14)),i=c(5),r=(c(118),c(22)),d=c(126),j=c(117),x=c(1),h=function(){return Object(x.jsx)("div",{children:Object(x.jsx)(j.a,{bg:"mediumgray",width:"100%",variant:"dark",children:Object(x.jsx)(j.a.Brand,{children:Object(x.jsx)("h1",{className:"title_style",children:"FlexDrone"})})})})},m=function(e){var t=e.telemetry;return Object(x.jsxs)("div",{className:"  d-inline-flex h-100 p-2 w-100 d-flex-row justify-content-center",children:[Object(x.jsxs)("div",{className:"  p-5 d-flex-column w-50 align-items-start justify-content-start",children:[Object(x.jsxs)("h3",{className:"text-start",children:["Pitch: ",null===t||void 0===t?void 0:t.pitch[t.pitch.length-1]]}),Object(x.jsxs)("h3",{className:"text-start",children:["Roll: ",null===t||void 0===t?void 0:t.roll[t.roll.length-1]]}),Object(x.jsxs)("h3",{className:"text-start",children:["Yaw: ",null===t||void 0===t?void 0:t.yaw[t.yaw.length-1]]}),Object(x.jsxs)("h3",{className:"text-start",children:["Velocity (X axis): ",null===t||void 0===t?void 0:t.vgx[t.vgx.length-1]]}),Object(x.jsxs)("h3",{className:"text-start",children:["Velocity (Y axis): ",null===t||void 0===t?void 0:t.vgy[t.vgy.length-1]]}),Object(x.jsxs)("h3",{className:"text-start",children:["Velocity (Z axis): ",null===t||void 0===t?void 0:t.vgz[t.vgz.length-1]]}),Object(x.jsxs)("h3",{className:"text-start",children:["Acceleration (X axis): ",null===t||void 0===t?void 0:t.agx[t.agx.length-1]]}),Object(x.jsxs)("h3",{className:"text-start",children:["Acceleration (Y axis): ",null===t||void 0===t?void 0:t.agy[t.agy.length-1]]}),Object(x.jsxs)("h3",{className:"text-start",children:["Acceleration (Z axis): ",null===t||void 0===t?void 0:t.agz[t.agz.length-1]]})]}),Object(x.jsxs)("div",{className:" d-inline-flex-column p-5 w-50 align-items-start justify-content-start",children:[Object(x.jsxs)("h3",{className:"text-start",children:["Height: ",null===t||void 0===t?void 0:t.h[t.h.length-1]]}),Object(x.jsxs)("h3",{className:"text-start",children:["Battery: ",null===t||void 0===t?void 0:t.bat[t.bat.length-1]]}),Object(x.jsxs)("h3",{className:"text-start",children:["Temp_Low:"," ",(5*((null===t||void 0===t?void 0:t.templ[t.templ.length-1])-32)/9).toFixed(2)]}),Object(x.jsxs)("h3",{className:"text-start",children:["Temp_High:"," ",(5*((null===t||void 0===t?void 0:t.temph[t.temph.length-1])-32)/9).toFixed(2)]}),Object(x.jsxs)("h3",{className:"text-start",children:["Barometer: ",null===t||void 0===t?void 0:t.baro[t.baro.length-1]]})]})]})},b=c(115),u=c(84),f=c(114),O=c.n(f),y=function(e){var t=e.telnames,c=e.time,a=e.telemetry,l=Object(n.useState)("pitch"),s=Object(i.a)(l,2),o=s[0],r=s[1];return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(b.a,{id:"dropdown-basic-button",title:"Graph",children:null===t||void 0===t?void 0:t.map((function(e){return Object(x.jsx)(u.a.Item,{onClick:function(t){return function(e,t){e.preventDefault(),r(t)}(t,e)},children:e})}))}),Object(x.jsx)(O.a,{className:"plot",data:[{x:c,y:a[o],type:"scatter",mode:"lines+markers",marker:{color:"lightgray"}}],layout:{responsive:!0,autosize:!0,title:o.charAt(0).toUpperCase()+o.slice(1),plot_bgcolor:"#2b2b2b",paper_bgcolor:"#2b2b2b",font:{color:"#afb1b3"},yaxis:{gridcolor:"#3c3f41"},xaxis:{gridcolor:"#3c3f41"}}},o)]})},g=c(90),p=c(125),v=c(113),w=c(59),N=c(28),k=c(124),C=function(){return Object(x.jsx)(k.a,{className:"videoframe",url:"video.html",id:"myId",display:"initial",height:"900px",position:"relative"})},S=Object(d.a)("http://127.0.0.1:4001");var K=function(){var e=function(e,t){e.preventDefault(),S.emit("comando",t),console.log("Comando ".concat(t," emitido"))};Object(n.useEffect)((function(){S.on("welcome",(function(e){return console.log(e)}))}),[]);var t=Object(n.useState)([]),c=Object(i.a)(t,2),a=c[0],l=c[1],s=Object(n.useState)({pitch:[],roll:[],yaw:[],agx:[],agy:[],agz:[],vgx:[],vgy:[],vgz:[],bat:[],baro:[],h:[],time:[],templ:[],temph:[]}),d=Object(i.a)(s,2),j=d[0],b=d[1],u=Object(n.useState)("control"),f=Object(i.a)(u,2),O=f[0],k=f[1],K=Object(n.useState)([]),F=Object(i.a)(K,2),z=F[0],L=F[1];Object(n.useEffect)((function(){S.on("telemetry",(function(e){l(Object.keys(e)),delete a.tof,b((function(t){return{pitch:[].concat(Object(o.a)(t.pitch),[e.pitch]),roll:[].concat(Object(o.a)(t.roll),[e.roll]),yaw:[].concat(Object(o.a)(t.yaw),[e.yaw]),agx:[].concat(Object(o.a)(t.agx),[e.agx]),agy:[].concat(Object(o.a)(t.agy),[e.agy]),agz:[].concat(Object(o.a)(t.agz),[e.agz]),vgx:[].concat(Object(o.a)(t.vgx),[e.vgx]),vgy:[].concat(Object(o.a)(t.vgy),[e.vgy]),vgz:[].concat(Object(o.a)(t.vgz),[e.vgz]),bat:[].concat(Object(o.a)(t.bat),[e.bat]),baro:[].concat(Object(o.a)(t.baro),[e.baro]),h:[].concat(Object(o.a)(t.h),[e.h]),templ:[].concat(Object(o.a)(t.templ),[5*(e.templ-32)/9]),temph:[].concat(Object(o.a)(t.temph),[5*(e.temph-32)/9])}}));var t=new Date;L((function(e){return[].concat(Object(o.a)(e),[t])}))}))}),[]);var D=80,E=!1,A=!1,B=!1,R=!1,_=!1,T=!1,I=!1,Q=!1;return Object(n.useEffect)((function(){document.addEventListener("keydown",(function(e){"KeyW"===e.code&&!1===E?(console.log("W"),S.emit("comando","rc 0 ".concat(D," 0 0")),E=!0):"KeyS"===e.code&&!1===B?(console.log("S"),S.emit("comando","rc 0 -".concat(D," 0 0")),B=!0):"KeyA"===e.code&&!1===A?(console.log("A"),S.emit("comando","rc -".concat(D," 0 0 0")),A=!0):"KeyD"===e.code&&!1===R?(console.log("D"),R=!0,S.emit("comando","rc ".concat(D," 0 0 0"))):"KeyQ"===e.code&&!1===_?(console.log("Q"),_=!0,S.emit("comando","rc 0 0 0 -".concat(D," "))):"KeyE"===e.code&&!1===T?(console.log("E"),T=!0,S.emit("comando","rc 0 0 0 ".concat(D))):"Space"===e.code&&!1===Q?(console.log("Space"),T=!0,S.emit("comando","rc 0 0 ".concat(D," 0"))):"ShiftLeft"===e.code&&!1===I&&(console.log("ShiftLeft"),T=!0,S.emit("comando","rc 0 0 -".concat(D," 0")))})),document.addEventListener("keyup",(function(e){"KeyW"===e.code?(console.log("No W"),E=!1,S.emit("comando","rc 0 0 0 0")):"KeyS"===e.code?(console.log("No S"),B=!1,S.emit("comando","rc 0 0 0 0")):"KeyA"===e.code?(console.log("No A"),A=!1,S.emit("comando","rc 0 0 0 0")):"KeyD"===e.code?(console.log("No D"),R=!1,S.emit("comando","rc 0 0 0 0")):"KeyQ"===e.code?(console.log("No Q"),_=!1,S.emit("comando","rc 0 0 0 0")):"KeyE"===e.code?(console.log("No E"),T=!1,S.emit("comando","rc 0 0 0 0")):"Space"===e.code?(console.log("No Space"),Q=!1,S.emit("comando","rc 0 0 0 0")):"ShiftLeft"===e.code&&(console.log("No ShiftLeft"),I=!1,S.emit("comando","rc 0 0 0 0"))}))}),[]),Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)("div",{className:"App",children:[Object(x.jsx)("script",{type:"text/javascript",src:"jsmpeg.min.js"}),Object(x.jsx)(h,{}),Object(x.jsxs)(p.a,{id:"controlled-tab-example",activeKey:O,onSelect:function(e){return k(e)},children:[Object(x.jsx)(g.a,{eventKey:"control",title:"Control",children:Object(x.jsxs)(v.a,{className:" w-75 mt-5",fluid:!0,children:[Object(x.jsxs)(w.a,{className:"d-flex mt-3 justify-content-center w-3",xs:"12",lg:"6",md:"6",children:[Object(x.jsx)(N.a,{className:"w-50 d-flex justify-content-center",children:Object(x.jsx)(r.a,{variant:"primary",style:{width:"90px"},onClick:function(t){return e(t,"up 20")},children:"Up"})}),Object(x.jsx)(N.a,{className:"w-50 d-flex justify-content-center",children:Object(x.jsx)(r.a,{style:{width:"90px"},onClick:function(t){return e(t,"down 20")},children:"Down"})})]}),Object(x.jsxs)(w.a,{className:"d-flex mt-3 justify-content-center w-3",xs:"12",lg:"6",md:"6",children:[Object(x.jsx)(N.a,{className:"w-50 d-flex justify-content-center",children:Object(x.jsx)(r.a,{variant:"primary",style:{width:"90px"},onClick:function(t){return e(t,"ccw 20")},children:"Rotate L"})}),Object(x.jsx)(N.a,{className:"w-50 d-flex justify-content-center",children:Object(x.jsx)(r.a,{style:{width:"90px"},onClick:function(t){return e(t,"cw 20")},children:"Rotate R"})})]}),Object(x.jsxs)(w.a,{className:"d-flex mt-3 justify-content-center w-3",xs:"12",lg:"6",md:"6",children:[Object(x.jsxs)(N.a,{className:" w-50",children:[Object(x.jsx)("div",{className:"d-flex justify-content-around",children:Object(x.jsx)(r.a,{style:{width:"90px"},onClick:function(t){return e(t,"forward 20")},children:"Forward"})}),Object(x.jsx)(v.a,{className:"",children:Object(x.jsxs)(w.a,{xs:"12",lg:"6",md:"6",className:"d-flex mt-2 justify-content-center",children:[Object(x.jsx)(N.a,{className:"d-flex justify-content-center",style:{width:"100px"},children:Object(x.jsx)(r.a,{style:{width:"100px"},onClick:function(t){return e(t,"left 20")},children:"Left"})}),Object(x.jsx)(N.a,{className:"d-flex justify-content-center",style:{width:"100px"},children:Object(x.jsx)(r.a,{style:{width:"100px"},onClick:function(t){return e(t,"right 20")},children:"Right"})})]})}),Object(x.jsx)("div",{className:"d-flex justify-content-around mt-2",children:Object(x.jsx)(r.a,{style:{width:"90px"},onClick:function(t){return e(t,"back 20")},children:"Back"})})]}),Object(x.jsxs)(N.a,{className:"w-50",children:[Object(x.jsx)("div",{className:"d-flex justify-content-around",children:Object(x.jsx)(r.a,{style:{width:"90px"},onClick:function(t){return e(t,"flip f")},children:"Flip F!"})}),Object(x.jsx)(v.a,{className:"",children:Object(x.jsxs)(w.a,{xs:"12",lg:"6",md:"6",className:"d-flex mt-2 justify-content-center",children:[Object(x.jsx)(N.a,{className:"d-flex justify-content-center",style:{width:"100px"},children:Object(x.jsx)(r.a,{style:{width:"90px"},onClick:function(t){return e(t,"flip l")},children:"Flip L!"})}),Object(x.jsx)(N.a,{className:"d-flex justify-content-center",style:{width:"100px"},children:Object(x.jsx)(r.a,{style:{width:"90px"},onClick:function(t){return e(t,"flip r")},children:"Flip R!"})})]})}),Object(x.jsx)("div",{className:"d-flex justify-content-around mt-2",children:Object(x.jsx)(r.a,{style:{width:"90px"},onClick:function(t){return e(t,"flip b")},children:"Flip B!"})})]})]}),Object(x.jsxs)(w.a,{className:"d-flex mt-3 justify-content-center w-3",xs:"12",lg:"6",md:"6",children:[Object(x.jsx)(N.a,{className:"w-50 d-flex justify-content-center",children:Object(x.jsx)(r.a,{style:{width:"90px"},onClick:function(t){return e(t,"stop")},children:"Stop"})}),Object(x.jsx)(N.a,{className:"w-50 d-flex justify-content-center",children:Object(x.jsx)(r.a,{style:{width:"100px"},onClick:function(t){return e(t,"emergency")},children:"Emergency"})})]}),Object(x.jsxs)(w.a,{className:"d-flex mt-3 justify-content-center w-3",xs:"12",lg:"6",md:"6",children:[Object(x.jsx)(N.a,{className:"w-50 d-flex justify-content-center",children:Object(x.jsx)(r.a,{style:{width:"90px"},onClick:function(t){return e(t,"takeoff")},children:"Takeoff"})}),Object(x.jsx)(N.a,{className:"w-50 d-flex justify-content-center",children:Object(x.jsx)(r.a,{style:{width:"90px"},onClick:function(t){return e(t,"land")},children:"Land"})})]})]})}),Object(x.jsx)(g.a,{eventKey:"data",title:"Data",children:Object(x.jsx)(m,{telemetry:j})}),Object(x.jsx)(g.a,{eventKey:"charts",width:"100%",title:"Charts",children:Object(x.jsx)(y,{time:z,telemetry:j,telnames:a})}),Object(x.jsx)(g.a,{eventKey:"video",className:"tab_style",title:"Video",children:Object(x.jsx)(C,{})})]})]})})},F=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,150)).then((function(t){var c=t.getCLS,n=t.getFID,a=t.getFCP,l=t.getLCP,s=t.getTTFB;c(e),n(e),a(e),l(e),s(e)}))};s.a.render(Object(x.jsx)(a.a.StrictMode,{children:Object(x.jsx)(K,{})}),document.getElementById("root")),F()}},[[144,1,2]]]);
//# sourceMappingURL=main.569e2dcf.chunk.js.map